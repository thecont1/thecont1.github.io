---
import { ClientRouter } from "astro:transitions";
import SiteHeader from "../components/SiteHeader.astro";
import SiteFooter from "../components/SiteFooter.astro";
import SEO from "../components/SEO.astro";
import "../styles/home.css";

interface Props {
  title: string;
  description?: string;
  image?: string;
  type?: 'website' | 'article' | 'profile';
  publishedTime?: Date;
  author?: string;
  tags?: string[];
  noindex?: boolean;
}

const { 
  title, 
  description,
  image,
  type = 'website',
  publishedTime,
  author,
  tags,
  noindex,
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <SEO 
      title={title}
      description={description}
      image={image}
      type={type}
      publishedTime={publishedTime}
      author={author}
      tags={tags}
      noindex={noindex}
    />
    <ClientRouter />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,400;9..144,600&family=Inter:wght@400;500;600&family=DM+Sans:wght@500;600&family=Lexend:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <slot name="head" />
  </head>

  <body>
    <canvas id="snow-canvas" aria-hidden="true"></canvas>
    <!-- Persistent navigation -->
    <SiteHeader transition:persist />

    <main>
      <slot />
    </main>

    <!-- FOOTER -->
    <SiteFooter />

    <script is:inline src="/textmode.js" defer></script>
    <script is:inline src="/snow.js" defer></script>
    <script is:inline src="/mobile-nav.js" defer></script>
  </body>
</html>
